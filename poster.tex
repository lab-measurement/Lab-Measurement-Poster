\NeedsTeXFormat{LaTeX2e}

\documentclass[portrait]{a0poster}

\usepackage{epsfig}
\usepackage{color}
\usepackage{transparent}
\usepackage{wallpaper}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{calc}
\usepackage{bm}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{mathptmx}
\usepackage[scaled=.90]{helvet}
\usepackage{courier}
\usepackage{listings}

\hyphenation{re-so-na-tors na-no-tubes}

\pagestyle{empty}
\TileWallPaper{10.234cm}{11.594cm}{images/dokutitle}

\setlength{\parskip}{5pt plus 2pt minus 1pt}
\setlength{\parindent}{0pt}

\frenchspacing
\sloppy

\renewcommand{\familydefault}{\sfdefault}

% some color definitions
\definecolor{darkblue}{rgb}{0, 0, 0.5}
\definecolor{lightblue}{rgb}{0, 0, 0.8}
\definecolor{lightgray}{gray}{0.75}

\newcommand{\blue}{\color[rgb]{0.2,0.2,1}}
\newcommand{\lightblue}{\color{lightblue}}
\newcommand{\red}{\color{red}}
\newcommand{\darkgreen}{\color[rgb]{0,0.65,0}}

% Delft blauw 
\definecolor{background}{rgb}{1,1,1}
\definecolor{text}{rgb}{0, 0, 0.3}
\definecolor{heading}{rgb}{0, 0, 0.8}

\definecolor{invheading}{rgb}{0.8,0.8,1}

\pagecolor{black}

\lstset{
  showstringspaces=false,
  basicstyle=\ttfamily,
  identifierstyle=\color[rgb]{0,0,0.5},
  stringstyle=\color[rgb]{0.5,0,0.5}\textbf,
  commentstyle=\color[rgb]{0.9,0,0}\textbf
}




% large heading in text
\newcommand{\heading}[1]{
  {\color{heading}\boldmath\textbf{\huge #1}}\\[\medskipamount]
}

% small heading in text
\newcommand{\smallheading}[1]{
  {\color{heading}\textbf{\Large #1}}\\
}

% very small heading in text
\newcommand{\verysmallheading}[1]{
  {\color{heading}\textbf{\large #1}}\\
}

% white bar across the column
\newcommand{\whitebar}{%
\vspace*{0.5cm}
\hspace*{-1.5cm}
\fcolorbox{white}{white}{\rule{30cm}{-0.7cm}}

\vspace*{1cm}
}

% white background for plots etc.
\newcommand{\whitebg}[1]{
 {
  \setlength{\fboxsep}{5mm}
  \setlength{\fboxrule}{1pt}
  \fcolorbox{black}{white}{\color{black}{#1}}
 }
}

% place a figure
\newcommand{\placefigure}[1]{ 
 {
  \vspace{-0.4cm}
  \begin{center}
  \hspace*{-1cm}\begin{minipage}{0.96\textwidth}
   \whitebg{
     \epsfig{#1,width=0.96\textwidth}
   }
   \vspace*{-1cm}
   {\\}
  \end{minipage}
  \end{center} 
  \vspace{-1cm}
 }
}

% place a listing
\newcommand{\placelisting}[1]{ 
 {
  \vspace{-0.2cm}
  \begin{center}
  \hspace*{-1cm}\begin{minipage}{0.96\textwidth}
   \footnotesize \renewcommand{\baselinestretch}{0.85}
   \whitebg{
   \parbox{0.97\textwidth}{
    \lstinputlisting[language=Perl]{#1}
   }
   }
   \renewcommand{\baselinestretch}{1}
   \vspace*{-1cm}
   {\\}
  \end{minipage}
  \end{center} 
  \vspace{-1cm}
 }
}

% place a listing
\newcommand{\placesmalllisting}[1]{ 
 {
  \vspace{-0.2cm}
  \begin{center}
  \hspace*{-1cm}\begin{minipage}{0.96\textwidth}
   \scriptsize \renewcommand{\baselinestretch}{0.8}
   \whitebg{
   \parbox{0.97\textwidth}{
    \lstinputlisting[language=Perl]{#1}
   }
   }
   \renewcommand{\baselinestretch}{1}
   \vspace*{-1cm}
   {\\}
  \end{minipage}
  \end{center} 
  \vspace{-1cm}
 }
}

% place a text
\newcommand{\placetext}[1]{ 
 {
  \vspace{-0.2cm}
  \begin{center}
  \hspace*{-1cm}\begin{minipage}{0.96\textwidth}
   \footnotesize \renewcommand{\baselinestretch}{0.85}
   \whitebg{
   \parbox{0.97\textwidth}{
    \lstinputlisting{#1}
   }
   }
   \renewcommand{\baselinestretch}{1}
   \vspace*{-1cm}
   {\\}
  \end{minipage}
  \end{center} 
 }
}




\begin{document}

\color{text}
\Large
%
\newlength{\seplength}
\newlength{\headerheight}
\newlength{\columnheight}
\newlength{\columnheighta}
\newlength{\columnheightb}
%
\setlength{\columnheight}{107cm}
\setlength{\columnheighta}{\columnheight-6cm}
\setlength{\columnheightb}{\columnheight+6.5cm}
\setlength{\columnwidth}{0.31\textwidth}
%
\setlength{\fboxsep}{10mm}
\setlength{\fboxrule}{0mm}
%
%
%
% the page header
%
\hspace*{-1cm}\begin{minipage}[t][][t]{\textwidth-2\fboxsep-8\fboxrule}
\color{invheading}
\begin{center}
{
\VERYHuge \vspace*{-0.6cm}
\textsf{\textbf{
Lab::Measurement -- measurement control with Perl
}}
}
\\[\baselineskip]
\begin{tabular}{ccc}
\parbox{5cm}{\vspace*{-1cm}
\begin{center}
\epsfig{file=images/logo-ur,height=4.5cm}
\end{center}
}
&
\parbox{70cm}{
\begin{center} 
{
\vspace*{-0.5cm}
\huge 
S. Reinhardt$^1$, C. E. Lane$^2$, C. Butschkow$^1$, A. Iankilevitch$^1$, A. 
Dirnaichner$^1$, 
and A. K. HÃ¼ttel$^1$
}
\\[\medskipamount]
{\it 
\Large
$^1$Institute for Experimental and Applied
Physics, University of Regensburg, 93040 Regensburg, Germany\\
$^2$Department of Physics, Drexel University, 3141 Chestnut Street, 
Philadelphia, PA 19104, USA\\
}
\end{center}
\vspace*{0.5cm}
}
&
\parbox{5cm}{\vspace*{-1cm}
\begin{center}
\epsfig{file=images/logo-sfb689,height=4.5cm}
\end{center}
}
\end{tabular}
\end{center}
\end{minipage}
\vspace*{9mm}





%
% begin of first row first column
\fcolorbox{white}{background}{
\begin{minipage}[t][\columnheighta-2\fboxsep-2\fboxrule][t]
  {\columnwidth-2\fboxsep-2\fboxrule} \rule{0pt}{0pt}\\
  \begin{minipage}{\textwidth}
%
%

\vspace*{0.9cm}
\heading{Flexible measurement needed?!}

\vspace*{-1cm}
\begin{itemize}
\item
Tired of following your wires in square meters of LabVIEW diagrams?
\item
Tired of clumsy string handling and low-level driver functions
in your looong C program?
\item
Use a text processing language to manage your measurement! Use Perl!
\end{itemize}
\vspace*{0.5cm}

\placelisting{srs_read.pl}

\vspace*{2cm}
\vspace*{0.9cm}
\heading{Currently supported hardware}

\vspace*{-3mm}
\placefigure{file=images/hardware}
Hardware driver backends: 
\begin{itemize}
\item 
  NI-VISA (MS Windows) and all hardware supported by it
\item
  LinuxGPIB and all hardware supported by it
\item
  TCP connection, generic network socket (both Linux and MS Windows)
\item
  USB-TMC lightweight driver (Linux, libusb)
\item
  VXI-11 lightweight driver (Linux, libtirpc)
\item
  Zurich Instruments LabOne API (both Linux and MS Windows)
\end{itemize}

\vspace*{1cm}
Growing number of high-level drivers (more are {\it very} easy to add):
{\large
\begin{itemize}
\item Multimeters: HP / Agilent / Keysight
\item DC sources: Yokogawa / Keithley
\item Lock-in amplifiers: Stanford Research / Signal Recovery / Zurich Instruments
\item Temperature controllers: Lakeshore / Oxford Instruments
\item RF / microwave sources, spectrum analyzers, VNAs: \\ Rohde \& Schwarz 
\item and many more...
\end{itemize}
}
\vspace*{1cm}
\heading{Key facts}
\vspace*{-2cm}
\begin{itemize}
 \item
 Open source / free software\\[-5cm]
 \item 
 {\lightblue https://www.labmeasurement.de/}
 \hfill\epsfig{file=images/qrcode-labmeasurement,width=5cm}
 \item
 License: same as Perl (GPL-1+ or Artistic)
 \item
 Releases on CPAN, development on Github
 \item
 Contributors and cooperations welcome!
\end{itemize}

%
%
%
\end{minipage}
%
\end{minipage}}
% end of first row first column
%
%
%
%
% begin of first row second column
\fcolorbox{white}{background}{
\begin{minipage}[t][\columnheighta-2\fboxsep-2\fboxrule][t]
  {\columnwidth-2\fboxsep-2\fboxrule} \rule{0pt}{0pt}\\
  \begin{minipage}{\textwidth}
%
%
%
%

\vspace*{0.9cm}
\heading{Real world measurement}

\vspace*{-1cm}
\begin{itemize}
 \item 
Ferromagnetic resonance measurement with vector network analyzer (VNA)
 \item
Outer loop: continuous sweep of magnetic field with OI Mercury iPS magnet 
controller
 \item 
Inner loop: VNA transmission measurement at multiple discrete microwave 
frequencies
\end{itemize}

\vspace*{0.5cm}
 \placesmalllisting{VNA-FMR.pl}
\vspace*{3cm}

\heading{Output files}
\vspace*{-1cm}
\placelisting{ls.txt}
\vspace*{2cm}
\begin{itemize}
\item \emph{META.yml:} various metadata (host, user, date, L::M version,
  command line arguments)
\item \emph{data.dat:} measured data, in tab-separated Gnuplot format
\item \emph{data.png:} live plot at the end of the measurement, as a png image
\item \emph{magnetic-resonance.pl:} archival copy of the measurement script

\end{itemize}
\vspace*{2cm}
\heading{Advanced sweep features}

\vspace*{-1cm}
\begin{itemize}
\item Multidimensional sweeps, e.g. 3D sweep: creating one 2D datafile for each
  step of the outermost sweep
\item Log arrays and matrices of data (PDLs). Useful for spectrum analyzers,
  VNAs, oscilloscopes
\item Extensive support for live plots via gnuplot: line plots (2D data) and 
  color maps (3D data)
\item Customizing live plots: access to all gnuplot plot and curve options 
  via PDL::Graphics::Gnuplot
\end{itemize}



% 
% 
% 
% 
\end{minipage}
\end{minipage}}
% end of second column
%
%
%
%
%
%begin third column
\fcolorbox{white}{background}{
\begin{minipage}[t][\columnheighta-2\fboxsep-2\fboxrule][t]
  {\columnwidth-2\fboxsep-2\fboxrule} \rule{0pt}{0pt}\\
  \begin{minipage}{\textwidth}
%
%
%
%
\vspace*{0.9cm}

\heading{Layer structure}

\vspace*{-3mm}
\placefigure{file=images/structure}

\begin{itemize}
\item
Modular structure. Easy to extend with new instrument drivers and connection
types
\item
Abstract IO layer, makes instrument drivers independent of hardware backends
\end{itemize}
%
%
%
\vspace*{0.9cm}

\heading{High-level sweep framework}
\vspace*{-3mm}

\begin{itemize}
\item Modern Perl implementation; use state of the art object-oriented
  programming
  \vspace*{1cm}
  \placefigure{file=images/moose-sweep}
  \vspace*{0.5cm}
\item Separate classes for sweeps, datafiles, datafolders, and plots
\item Most operational details of the sweeps are implemented in subclasses of
  the Lab::Moose::Sweep base class
\item High modularity: \emph{very} easy to extend with new functionality
\end{itemize}
\vspace*{2cm}
  \heading{Recent improvements}
  \vspace*{-2cm}
  \begin{itemize}
  \item Extensive tutorial
  \item {\lightblue New drivers}
  \begin{itemize}
  \item
    Oxford Instruments  Mercury magnet controller and level meter
  \item
    Zurich Instruments MFLI lock-in amplifier and MFIA impedance analyzer
  \item
    Rigol DSA815 Spectrum Analyzer
  \item
    HP 8596E Spectrum Analyzer
  \item
    Oxford Instruments Triton system control
  \item
    Keithley 2400 sourcemeter
  \item
    HP 34420A nanovolt meter
  \item
    Lakeshore 340 temperature controller
  \item
    Keysight B2901A sourcemeter
  \end{itemize}
\item More configurable live plots
\item Compatibility with newer versions of Zurich Instruments LabOne API
% \item {\lightblue New connection backends}
%   \begin{itemize}
%   \item USB-TMC, VXI-11: lightweight user space drivers for Linux.
%     Provide {\lightblue fast and cheap alternative to GPIB} on Linux; high
%     reliability since based on standard system libraries (libusb, sunrpc, 
%     libtirpc)
%   \item 
%     Initial support for the LabOne API of Zurich Instruments: provide Perl
%     bindings to proprietary vendor library; instruments accessed via
%     Ethernet or USB
%   \end{itemize}

\end{itemize}
\vspace*{2cm}
  \heading{Publication}
  %\vspace*{-2cm}
 \textbf{ Lab::Measurement - a portable and extensible framework for controlling lab
  equipment and conducting measurements}\\
  Computer Physics Communications \textbf{234}, 216 (2019); arXiv:1804.03321
  
% \vspace*{2cm}
% \heading{Outlook}
% \vspace*{-2cm}

% \begin{itemize}
% \item Implement more sweep types with the new framework, e.g. temperature sweep
% \item {\lightblue Improve on tutorials:}
%   \begin{itemize}
%   \item Entry-level docs for new users: basics about connections, instruments,
%     and sweeps
%   \item Developer docs: how to write and test new drivers; use Moose features
%     efficiently
%   \end{itemize}
  
% \end{itemize}


\end{minipage}

\end{minipage}}  % end of first row third column
%
%
%

\vspace*{0.5cm}
\begin{center}\color{invheading}\large
\hspace*{-4cm}We gratefully acknowlegde funding by the DFG via the Emmy Noether 
grant Hu1808/1, SFB 689, SFB 1277, and GRK 1570.
\end{center}

\end{document}
